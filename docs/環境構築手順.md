# 環境構築手順

## 1. 前提
- Docker / Docker Compose
- PHP 8.4 + Composer
- Node.js 20 + npm

## 2. 初期セットアップ
```bash
cd /Users/sampeitomonori/Github/999_yado_education
cp backend/.env.example backend/.env
cp frontend/.env.example frontend/.env
```

## 3. Dockerで起動
```bash
cd /Users/sampeitomonori/Github/999_yado_education/infra
docker compose up --build
```

## 4. アクセス先
- フロント: [http://localhost:15183](http://localhost:15183)
- API: [http://localhost:8000](http://localhost:8000)
- Mailpit: [http://localhost:8025](http://localhost:8025)
- MinIO API: [http://localhost:19000](http://localhost:19000)
- MinIO Console: [http://localhost:19001](http://localhost:19001)

## 5. ローカルDB接続（Sequel Ace等）
- ホスト: `127.0.0.1`
- ポート: `13316`
- データベース: `yado_education`
- ユーザー: `yado`
- パスワード: `secret`

## 6. 開発環境クイックログイン
- ログインURL: [http://localhost:15183/login](http://localhost:15183/login)
- 受講者: `user@example.com / password`
- レビュー: `reviewer@example.com / password`
- 管理者: `admin@test.com / password`
- 補足: `/api/auth/dev-login`（`APP_ENV=local`限定）は必要なロールユーザーと教材初期データを自動補完する。

## 7. ローカル直接実行
### Backend
```bash
cd /Users/sampeitomonori/Github/999_yado_education/backend
composer install
php artisan migrate:fresh --seed
php artisan serve
```

### Frontend
```bash
cd /Users/sampeitomonori/Github/999_yado_education/frontend
npm install
npm run dev
```

## 8. テスト実行
```bash
cd /Users/sampeitomonori/Github/999_yado_education/backend
php artisan test

cd /Users/sampeitomonori/Github/999_yado_education/frontend
npm run test
npm run test:e2e
npm run build
```
