# データベース設計

## 1. 主要テーブル
- `users`: ロール、有効/無効、認証情報
- `invitations`: 招待トークンと有効期限
- `categories`: コース
- `sections`: レッスン（種別、表示、追加テキスト設定）
- `section_pdfs`: PDFメタデータ
- `section_hints`: ヒント1〜3
- `section_hint_views`: ユーザーごとのヒント開示履歴
- `section_judge_configs`: 判定設定JSON
- `judge_runs`: 判定実行履歴
- `submissions`: 提出履歴
- `submission_autojudge_codes`: 自動判定課題の提出コード
- `submission_webapp_links`: GitHub提出内容
- `reviews`: レビュー履歴
- `labels`, `user_labels`: ラベル管理
- `activity_logs`: 操作ログ

## 2. 状態定義
### 提出ステータス (`submissions.status`)
- `review_pending`
- `revision_required`
- `passed`

### 判定ステータス (`judge_runs.status`)
- `pending`
- `passed`
- `failed`
- `timeout`
- `error`

## 3. 進捗集計ルール
- 各ユーザー×レッスンで最新提出のみを対象。
- 最新提出が `passed` の場合のみ完了として集計。
